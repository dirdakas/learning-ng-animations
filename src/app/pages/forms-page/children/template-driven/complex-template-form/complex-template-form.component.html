<form (ngSubmit)="onSubmit()" #f="ngForm">
  <div
    id="user-data"
    ngModelGroup="userData"
    #userData="ngModelGroup">
    <div>
      <label for="username">
        Username
      </label>
      <input
        type="text"
        id="username"
        ngModel
        name="username"
        required>
    </div>
    <button
      type="button"
      (click)="suggestUserName()">
      Suggest an Username
    </button>
    <div>
      <label for="email">
        Mail
      </label>
      <input
        type="email"
        id="email"
        ngModel
        name="email"
        required
        email
        #email="ngModel">
      <span *ngIf="!email.valid && email.touched">
        Please enter a valid email!
      </span>
    </div>
  </div>
  <p *ngIf="!userData.valid && userData.touched">
    User Data is invalid!
  </p>
  <div>
    <label for="secret">
      Secret Questions
    </label>
    <select
      id="secret"
      [ngModel]="defaultQuestion"
      name="secret">
      <option value="pet">Your first Pet?</option>
      <option value="teacher">Your first teacher?</option>
    </select>
  </div>
  <div>
    <textarea
      name="questionAnswer"
      rows="3"
      [(ngModel)]="answer"></textarea>
  </div>
  <p>Your reply: {{ answer }}</p>
  <div *ngFor="let gender of genders"
       class="radio">
    <label>
      <input
        type="radio"
        name="gender"
        ngModel
        [value]="gender"
        required>
      {{ gender }}
    </label>
  </div>
  <button
    type="submit"
    [disabled]="!f.valid">Submit</button>
</form>

<div *ngIf="isSubmitted">
  <h3>Your Data</h3>
  <p>Username: {{ user.username }}</p>
  <p>Mail: {{ user.email }}</p>
  <p>Secret Question: Your first {{ user.secretQuestion }}</p>
  <p>Answer: {{ user.answer }}</p>
  <p>Gender: {{ user.gender }}</p>
</div>
